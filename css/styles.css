:root{
  --bg:#0b1020; --bg-soft:#121935; --card:#0e1530; --txt:#e6edf6; --muted:#9fb0c6;
  --acc:#7c3aed; --acc-2:#22d3ee; --ok:#10b981; --warn:#f59e0b; --err:#ef4444; --bd:rgba(255,255,255,.08);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  color:var(--txt);
  background-color:var(--bg);
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
  overflow-x:hidden;
}

/* === FONDO UNIFORME === */
body::before{
  content:"";
  position:fixed;
  inset:-20vh -10vw;
  z-index:-1; pointer-events:none;
  background:url('../img/hero-bg.jpg') center/cover no-repeat;
  filter:blur(60px) saturate(0.7) brightness(0.28);
  transform:scale(1.2);
}
body::after{
  content:"";
  position:fixed; inset:0; z-index:-1; pointer-events:none;
  background:
    radial-gradient(1100px 700px at 15% -10%, rgba(124,58,237,.06), transparent 60%),
    radial-gradient(900px 600px at 110% 25%, rgba(34,211,238,.05), transparent 60%);
  mix-blend-mode:screen;
}

a{color:var(--acc)}
.container{max-width:1050px;margin:0 auto;padding:24px}

header{position:sticky;top:0;background:linear-gradient(180deg, rgba(11,16,32,.9), rgba(11,16,32,.6) 60%, transparent);backdrop-filter: blur(8px);z-index:10;transition:background .2s ease}
header.scrolled{background:rgba(11,16,32,.95)}

nav{display:flex;align-items:center;gap:16px;justify-content:space-between;border-bottom:1px solid var(--bd);padding:12px 0;position:relative}
nav .left{display:flex;align-items:center;gap:12px;flex-wrap:wrap}

.logo{display:flex;gap:10px;align-items:center}
.logo .dot{width:12px;height:12px;border-radius:50%;background:conic-gradient(from 180deg, var(--acc), var(--acc-2));box-shadow:0 0 16px var(--acc-2)}
.badge{border:1px solid var(--bd);padding:6px 10px;border-radius:999px;color:var(--muted);text-decoration:none}
.btn{appearance:none;border:none;border-radius:12px;padding:10px 14px;font-weight:600;cursor:pointer;background:linear-gradient(180deg, #1b2350, #0e1530);color:white;border:1px solid var(--bd);box-shadow:0 3px 0 rgba(0,0,0,.25);text-decoration:none;display:inline-flex;align-items:center;gap:8px}
.btn:hover{transform:translateY(-1px)}
.btn.ghost{background:transparent}
.btn[aria-pressed="true"]{outline:2px solid var(--acc-2);outline-offset:2px}

/* ========== HAMBURGUESA CON ICONO PNG ========== */
.hamburger{
  display:none;
  background:transparent;
  border:1px solid var(--bd);
  border-radius:12px;
  padding:4px;
  cursor:pointer;
  line-height:0;
}
.hamburger img{
  display:block;
  width:20px;
  height:20px;
  border-radius:6px;
}
.hamburger:hover{ transform:translateY(-1px); }
.hamburger[aria-expanded="true"] img{ opacity:0; }
.hamburger[aria-expanded="true"]::after{
  content:"✕";
  display:block;
  font-size:18px;
  line-height:1;
  padding:1px 2px 0;
}

/* ========== SCRIM ========== */
.scrim{
  position:fixed; inset:0; background:rgba(0,0,0,.68);
  opacity:0; pointer-events:none; transition:opacity .18s ease;
  z-index:9;
}
.scrim.show{ opacity:1; pointer-events:auto; }

/* ========== NAV DRAWER COMPACTO ========== */
/* Importante: por defecto OCULTO */
.nav-drawer{
  position:fixed; top:0; right:0;
  height:100dvh; width:min(72vw,280px);
  padding:8px 6px 10px;
  background:rgba(10,14,30,.98);
  border-left:1px solid var(--bd);
  box-shadow: -10px 0 24px rgba(0,0,0,.45) inset;
  backdrop-filter: blur(8px);

  /* estado inicial: NO se muestra */
  display:none;
  transform:translateX(100%);
  transition:transform .22s ease;
  z-index:10;

  overflow:auto; overscroll-behavior:contain;
  padding-top:calc(8px + env(safe-area-inset-top, 0px));
  padding-bottom:calc(8px + env(safe-area-inset-bottom, 0px));
}

/* Solo cuando está abierto en móvil */
.nav-drawer.open{
  display:grid;
  gap:2px;
  transform:translateX(0);
}

.nav-drawer a{
  display:block;
  border:0;
  background:transparent;
  color:#e6edf6;
  padding:6px 10px;
  border-radius:6px;
  line-height:1.1;
  font-size:14px;
  text-decoration:none;
}
.nav-drawer a.badge{ color:#e6edf6; }
.nav-drawer a + a{ border-top:1px solid rgba(255,255,255,.04); }
.nav-drawer a:hover{ background:rgba(255,255,255,.03); }
.nav-drawer a:focus-visible{ outline:2px solid var(--acc-2); outline-offset:2px; }

.nav-drawer .btn{
  font-size:14px;
  padding:6px 10px;
  border-radius:6px;
  margin-top:4px;
  background:linear-gradient(180deg, #22306e, #10173a);
  border-color:rgba(255,255,255,.08);
  color:#fff;
}

/* Responsive visibilidad */
@media (max-width:860px){
  .hamburger{
    display:inline-flex;
    align-items:center;
    justify-content:center;
  }
}

/* En escritorio, el menú vuelve a ser horizontal normal */
@media (min-width:861px){
  .scrim{display:none}
  .hamburger{display:none}

  .nav-drawer{
    position:static;
    height:auto;
    width:auto;
    padding:0;
    display:flex !important;      /* SIEMPRE visible en desktop */
    align-items:center;
    gap:10px;
    background:transparent;
    border:0;
    box-shadow:none;
    backdrop-filter:none;
    transform:none !important;
  }

  .nav-drawer a,
  .nav-drawer .btn{
    padding:8px 10px;
    font-size:14.5px;
  }
  .nav-drawer a + a{ border-top:0; }
  .nav-drawer a:hover{ background:rgba(255,255,255,.06); }
}

/* HERO */
.hero{
  position:relative; display:grid; grid-template-columns:1.4fr .8fr; gap:28px; align-items:center; padding:40px 0;
}
.hero::before{
  content:""; position:absolute; inset:0; z-index:0;
  background:url('../img/hero-bg.jpg') center/cover no-repeat;
  filter:brightness(0.45);
  border-radius:18px;
}
.hero > *{ position:relative; z-index:1 }
.hero h1{font-size:clamp(28px, 5vw, 46px);line-height:1.1;margin:0 0 12px}
.hero p{color:var(--muted);margin:0 0 18px}
.taglist{display:flex;flex-wrap:wrap;gap:8px;margin:12px 0 16px}
.tag{border:1px solid var(--bd);padding:4px 10px;border-radius:999px;color:var(--muted);font-size:13px;background:rgba(0,0,0,.35)}
.hero-card{border:1px solid var(--bd);background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));border-radius:18px;padding:18px}

.grid{display:grid;gap:16px}
.grid.cols-3{grid-template-columns:repeat(3,1fr)}
.grid.cols-2{grid-template-columns:repeat(2,1fr)}
.card{border:1px solid var(--bd);border-radius:16px;padding:16px;background:linear-gradient(180deg, rgba(255,255,255,.02), transparent)}
.card h3{margin:0 0 6px;font-size:18px}
.meta{font-size:13px;color:var(--muted)}
.pill{display:inline-flex;align-items:center;gap:8px;border:1px dashed var(--bd);padding:8px 12px;border-radius:12px;color:var(--muted)}
.kpis{display:flex;gap:12px;flex-wrap:wrap}
.kpi{flex:1;min-width:170px;border:1px solid var(--bd);border-radius:14px;padding:12px}
.kpi strong{font-size:24px}

section{padding:32px 0}
section h2{font-size:24px;margin:0 0 14px}
.projects .card:hover{border-color:rgba(124,58,237,.6)}
.project-links a{margin-right:10px}
.timeline{border-left:2px solid var(--bd);margin:0;padding-left:18px}
.timeline li{list-style:none;margin:0 0 18px}
.timeline .when{font-size:12px;color:var(--muted)}
.contact{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.input, textarea{width:100%;background:#0b132b;border:1px solid var(--bd);border-radius:12px;color:var(--txt);padding:10px}
footer{border-top:1px solid var(--bd);padding:22px 0;color:var(--muted);display:flex;justify-content:space-between;flex-wrap:wrap;gap:12px}

.skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip-link:focus{left:12px;top:12px;background:#000;color:#fff;padding:8px;border-radius:8px;width:auto;height:auto;z-index:1000}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
.focus-ring:focus-visible{outline:2px solid var(--acc-2);outline-offset:2px}

/* NUEVO: asegurar que nada se sale horizontalmente */
img, video{
  max-width:100%;
  height:auto;
  display:block;
}

.skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip-link:focus{left:12px;top:12px;background:#000;color:#fff;padding:8px;border-radius:8px;width:auto;height:auto;z-index:1000}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
.focus-ring:focus-visible{outline:2px solid var(--acc-2);outline-offset:2px}

/* ===== Nuevo estilo de tarjetas CTF pro ===== */
.ctf-pro{
  display:flex;
  flex-direction:column;
  gap:12px;
  padding:20px;
  border:1px solid var(--bd);
  border-radius:14px;
  background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
}

.ctf-header{
  display:flex;
  justify-content:space-between;
  font-size:13px;
  color:var(--muted);
}

.ctf-pro h3{
  margin:0;
  font-size:18px;
  font-weight:600;
  color:var(--txt);
}

.ctf-pro .summary{
  margin:0;
  font-size:14px;
  color:var(--muted);
}

.ctf-pro .badges{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.ctf-pro .badges .badge{
  background:rgba(255,255,255,.05);
  border:1px solid var(--bd);
  border-radius:8px;
  padding:3px 8px;
  font-size:12px;
  color:var(--txt);
}

.ctf-pro .steps{
  margin:0;
  padding-left:18px;
  font-size:14px;
}
.ctf-pro .steps li{ margin-bottom:4px; }

.ctf-footer{
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
  gap:8px;
  border-top:1px solid var(--bd);
  padding-top:10px;
}

.ctf-footer .tags{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.ctf-footer .tags .tag{
  background:rgba(255,255,255,.04);
  border:1px solid var(--bd);
  border-radius:6px;
  font-size:12px;
  padding:2px 6px;
  color:var(--muted);
}

.ctf-footer .links .btn{
  font-size:14px;
  padding:8px 12px;
}

@media (max-width:1024px){ .container{padding:20px} }
@media (max-width:860px){
  .hero{grid-template-columns:1fr}
  .contact{grid-template-columns:1fr}
  .grid.cols-3{grid-template-columns:1fr}
  .grid.cols-2{grid-template-columns:1fr}
  .hero::before{background-position:65% 40%;}
}
@media (prefers-reduced-motion: reduce){
  *{scroll-behavior:auto}
  .btn:hover{transform:none}
  body::after{mix-blend-mode:normal}
}
/* ===== Contacto: CTA para LinkedIn ===== */
.contact--cta { grid-template-columns: 1fr 1fr; }
@media (max-width:860px){ .contact--cta { grid-template-columns:1fr; } }

.cta-card{
  position:relative;
  overflow:hidden;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid var(--bd);
}
.cta-card::after{
  /* brillo sutil en borde para atraer la mirada */
  content:""; position:absolute; inset:-1px;
  border-radius:inherit; pointer-events:none;
  background:radial-gradient(500px 220px at 20% -10%, rgba(124,58,237,.18), transparent 60%),
             radial-gradient(420px 200px at 120% 70%, rgba(34,211,238,.14), transparent 60%);
  mix-blend-mode:screen; opacity:.9;
}

.cta-actions{ display:flex; gap:10px; flex-wrap:wrap; margin:10px 0 6px; }
.btn-lg{ padding:12px 16px; font-size:16px; border-radius:14px; }

.cta-badges{ display:flex; flex-wrap:wrap; gap:8px; margin-top:8px; }
.cta-badges .badge{ color:#cfe3ff; background:rgba(255,255,255,.05); }

.meta.tiny{ font-size:12.5px; margin-top:10px; color:var(--muted); }

.filters{
  display:flex; gap:.5rem; margin:.75rem 0 1.25rem;
}
.filter-btn{
  border:1px solid var(--bd, #334155);
  background:transparent; color:inherit;
  padding:.5rem .8rem; border-radius:.75rem; cursor:pointer;
}
.filter-btn.is-active{
  background:var(--accent, #0ea5e9); color:#fff; border-color:transparent;
}
